import{k as Se,m as Ce,_ as C,d as v,b as i,l as V,a as U,n as ie,q as we,s as He,t as F,v as q,x as R,y as Le,B as Be,z as Q,R as Y,A as ee,C as te,P as b,D as oe,u as de,o as y,E as k,w as h,e as H,g as S,F as Te,i as Ie,G as L,p as Oe,j as Ee,c as B,r as Me,H as ne,I as P,J as ae,K as W,h as Re,M as ze}from"./index-BNbA7v75.js";import{u as ce}from"./user-DbF2VaCo.js";import{M as re}from"./index-BbWRbxa_.js";import{S as ue,a as Ae,_ as pe,M as ge,D as De,b as Ne}from"./index-C3g34NSf.js";import{i as Fe,_ as T}from"./_plugin-vue_export-helper-B53X9KRV.js";import"./Api-Bt383o_O.js";import"./index-DhYPhdFh.js";import"./pickAttrs-9kOryGu2.js";import"./shallowequal-ChwhcXDM.js";const Pe=e=>!isNaN(parseFloat(e))&&isFinite(e),We=e=>{const{componentCls:n,colorBgContainer:t,colorBgBody:r,colorText:s}=e;return{[`${n}-sider-light`]:{background:t,[`${n}-sider-trigger`]:{color:s,background:t},[`${n}-sider-zero-width-trigger`]:{color:s,background:t,border:`1px solid ${r}`,borderInlineStart:0}}}},je=e=>{const{antCls:n,componentCls:t,colorText:r,colorTextLightSolid:s,colorBgHeader:m,colorBgBody:u,colorBgTrigger:l,layoutHeaderHeight:a,layoutHeaderPaddingInline:g,layoutHeaderColor:_,layoutFooterPadding:o,layoutTriggerHeight:p,layoutZeroTriggerSize:c,motionDurationMid:x,motionDurationSlow:d,fontSize:$,borderRadius:f}=e;return{[t]:C(C({display:"flex",flex:"auto",flexDirection:"column",color:r,minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},[`${t}-header`]:{height:a,paddingInline:g,color:_,lineHeight:`${a}px`,background:m,[`${n}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:o,color:r,fontSize:$,background:u},[`${t}-content`]:{flex:"auto",minHeight:0},[`${t}-sider`]:{position:"relative",minWidth:0,background:m,transition:`all ${x}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${n}-menu${n}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:p},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:p,color:s,lineHeight:`${p}px`,textAlign:"center",background:l,cursor:"pointer",transition:`all ${x}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:a,insetInlineEnd:-c,zIndex:1,width:c,height:c,color:s,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:m,borderStartStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f,borderEndStartRadius:0,cursor:"pointer",transition:`background ${d} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${d}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-c,borderStartStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:f}}}}},We(e)),{"&-rtl":{direction:"rtl"}})}},Ke=Se("Layout",e=>{const{colorText:n,controlHeightSM:t,controlHeight:r,controlHeightLG:s,marginXXS:m}=e,u=s*1.25,l=Ce(e,{layoutHeaderHeight:r*2,layoutHeaderPaddingInline:u,layoutHeaderColor:n,layoutFooterPadding:`${t}px ${u}px`,layoutTriggerHeight:s+m*2,layoutZeroTriggerSize:s});return[je(l)]},e=>{const{colorBgLayout:n}=e;return{colorBgHeader:"#001529",colorBgBody:n,colorBgTrigger:"#002140"}}),X=()=>({prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String});function z(e){let{suffixCls:n,tagName:t,name:r}=e;return s=>v({compatConfig:{MODE:3},name:r,props:X(),setup(u,l){let{slots:a}=l;const{prefixCls:g}=V(n,u);return()=>{const _=C(C({},u),{prefixCls:g.value,tagName:t});return i(s,_,a)}}})}const G=v({compatConfig:{MODE:3},props:X(),setup(e,n){let{slots:t}=n;return()=>i(e.tagName,{class:e.prefixCls},t)}}),Ue=v({compatConfig:{MODE:3},inheritAttrs:!1,props:X(),setup(e,n){let{slots:t,attrs:r}=n;const{prefixCls:s,direction:m}=V("",e),[u,l]=Ke(s),a=U([]);ie(ue,{addSider:o=>{a.value=[...a.value,o]},removeSider:o=>{a.value=a.value.filter(p=>p!==o)}});const _=we(()=>{const{prefixCls:o,hasSider:p}=e;return{[l.value]:!0,[`${o}`]:!0,[`${o}-has-sider`]:typeof p=="boolean"?p:a.value.length>0,[`${o}-rtl`]:m.value==="rtl"}});return()=>{const{tagName:o}=e;return u(i(o,C(C({},r),{class:[_.value,r.class]}),t))}}}),j=z({suffixCls:"layout",tagName:"section",name:"ALayout"})(Ue),O=z({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(G),K=z({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(G),E=z({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(G),le={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},Ve=()=>({prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:b.any,width:b.oneOfType([b.number,b.string]),collapsedWidth:b.oneOfType([b.number,b.string]),breakpoint:b.oneOf(oe("xs","sm","md","lg","xl","xxl","xxxl")),theme:b.oneOf(oe("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}),Xe=(()=>{let e=0;return function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${n}${e}`}})(),M=v({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:Fe(Ve(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup(e,n){let{emit:t,attrs:r,slots:s}=n;const{prefixCls:m}=V("layout-sider",e),u=He(ue,void 0),l=F(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),a=F(!1);q(()=>e.collapsed,()=>{l.value=!!e.collapsed}),ie(Ae,l);const g=(d,$)=>{e.collapsed===void 0&&(l.value=d),t("update:collapsed",d),t("collapse",d,$)},_=F(d=>{a.value=d.matches,t("breakpoint",d.matches),l.value!==d.matches&&g(d.matches,"responsive")});let o;function p(d){return _.value(d)}const c=Xe("ant-sider-");u&&u.addSider(c),R(()=>{q(()=>e.breakpoint,()=>{try{o==null||o.removeEventListener("change",p)}catch{o==null||o.removeListener(p)}if(typeof window<"u"){const{matchMedia:d}=window;if(d&&e.breakpoint&&e.breakpoint in le){o=d(`(max-width: ${le[e.breakpoint]})`);try{o.addEventListener("change",p)}catch{o.addListener(p)}p(o)}}},{immediate:!0})}),Le(()=>{try{o==null||o.removeEventListener("change",p)}catch{o==null||o.removeListener(p)}u&&u.removeSider(c)});const x=()=>{g(!l.value,"clickTrigger")};return()=>{var d,$;const f=m.value,{collapsedWidth:Z,width:fe,reverseArrow:A,zeroWidthTriggerStyle:he,trigger:I=(d=s.trigger)===null||d===void 0?void 0:d.call(s),collapsible:J,theme:_e}=e,D=l.value?Z:fe,w=Pe(D)?`${D}px`:String(D),N=parseFloat(String(Z||0))===0?i("span",{onClick:x,class:Q(`${f}-zero-width-trigger`,`${f}-zero-width-trigger-${A?"right":"left"}`),style:he},[I||i(Be,null,null)]):null,ye={expanded:A?i(Y,null,null):i(ee,null,null),collapsed:A?i(ee,null,null):i(Y,null,null)},xe=l.value?"collapsed":"expanded",ve=ye[xe],be=I!==null?N||i("div",{class:`${f}-trigger`,onClick:x,style:{width:w}},[I||ve]):null,ke=[r.style,{flex:`0 0 ${w}`,maxWidth:w,minWidth:w,width:w}],$e=Q(f,`${f}-${_e}`,{[`${f}-collapsed`]:!!l.value,[`${f}-has-trigger`]:J&&I!==null&&!N,[`${f}-below`]:!!a.value,[`${f}-zero-width`]:parseFloat(w)===0},r.class);return i("aside",te(te({},r),{},{class:$e,style:ke}),[i("div",{class:`${f}-children`},[($=s.default)===null||$===void 0?void 0:$.call(s)]),J||a.value&&N?be:null])}}}),Ge=O,Ze=M,Je=E,se=C(j,{Header:O,Footer:K,Content:E,Sider:M,install:e=>(e.component(j.name,j),e.component(O.name,O),e.component(K.name,K),e.component(M.name,M),e.component(E.name,E),e)}),me=e=>(Oe("data-v-1bea487a"),e=e(),Ee(),e),qe=["src"],Qe=me(()=>H("span",null,"查看详情",-1)),Ye=me(()=>H("span",null,"退出登陆",-1)),et=v({__name:"Header",setup(e){const{logout:n,userInfo:t}=ce(),r=de(),s=()=>{re.confirm({title:"退出登录",content:"确定退出登录吗？",okText:"确定",cancelText:"取消",onOk(){n().then(u=>{u===!0&&(Ie.success("退出登陆成功"),r.push({path:"/login"}))})}})},m=()=>{re.info({title:"用户信息",content:L("div",{},[L("p",`用户名: ${t.name}`),L("span",{innerHTML:"头像:",style:{lineHeight:"100px",verticalAlign:"text-bottom",marginRight:"10px"}}),L("img",{src:t.avatar,style:{width:"100px",height:"100px",margin:"10px 0"}}),L("p",`权限: ${t.roles.join(",")?t.roles.join(","):"全局权限"}`)]),onOk(){}})};return R(()=>{console.log("mounted",t)}),(u,l)=>{const a=pe,g=ge,_=De,o=Ge;return y(),k(o,{class:"header"},{default:h(()=>[i(_,{class:"header__drapdown"},{overlay:h(()=>[i(g,null,{default:h(()=>[i(a,{onClick:m},{default:h(()=>[Qe]),_:1}),i(a,{onClick:s},{default:h(()=>[Ye]),_:1})]),_:1})]),default:h(()=>[H("a",{class:"ant-dropdown-link",onClick:l[0]||(l[0]=Te(()=>{},["prevent"]))},[H("img",{src:S(t).avatar,alt:"",class:"header__avatar"},null,8,qe)])]),_:1})]),_:1})}}}),tt=T(et,[["__scopeId","data-v-1bea487a"]]),ot={class:"logo"},nt=v({__name:"Logo",setup(e){return(n,t)=>(y(),B("div",ot))}}),at=T(nt,[["__scopeId","data-v-54c9cef0"]]),rt=v({__name:"Sidebar",setup(e){const n=de(),t=U(!1),r=U(["1"]),s=Me([{key:"1",icon:"HomeOutlined",title:"首页",path:"/layout/home"},{key:"2",icon:"FileMarkdownOutlined",title:"文章",children:[{key:"2-1",title:"文章列表",path:"/layout/article-list"},{key:"2-2",title:"创建文章",path:"/layout/article-create"},{key:"2-3",title:"上传图片",path:"/layout/upload-imgs"}]},{key:"3",icon:"CommentOutlined",title:"评论",children:[{key:"3-1",title:"评论列表",path:"/layout/comments-list"}]},{key:"4",icon:"UserOutlined",title:"用户",children:[{key:"4-1",title:"用户列表",path:"/layout/client-user-list"}]}]),m=l=>{n.push({path:l})},u=l=>{let a="";s.find(g=>{if(g.path===l&&(a=g.key),g.children)return g.children.find(_=>_.path===l?a=_.key:!1)}),a?r.value=[a]:r.value=["1"]};return R(()=>{u(n.currentRoute.value.path)}),(l,a)=>{const g=pe,_=Ne,o=ge,p=Ze;return y(),k(p,{collapsed:t.value,"onUpdate:collapsed":a[1]||(a[1]=c=>t.value=c),collapsible:""},{default:h(()=>[i(at),i(o,{selectedKeys:r.value,"onUpdate:selectedKeys":a[0]||(a[0]=c=>r.value=c),theme:"dark",mode:"inline"},{default:h(()=>[(y(!0),B(P,null,ne(s,c=>(y(),B(P,null,[c.children?(y(),k(_,{key:`${c.key}-desc`},{title:h(()=>[(y(),k(ae(c.icon))),H("span",null,W(c.title),1)]),default:h(()=>[(y(!0),B(P,null,ne(c.children,x=>(y(),k(g,{onClick:d=>m(x.path),key:x.key},{default:h(()=>[Re(W(x.title),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):(y(),k(g,{key:`${c.key}`,onClick:x=>m(c.path)},{default:h(()=>[(y(),k(ae(c.icon))),H("span",null,W(c.title),1)]),_:2},1032,["onClick"]))],64))),256))]),_:1},8,["selectedKeys"])]),_:1},8,["collapsed"])}}}),lt=T(rt,[["__scopeId","data-v-18c7cd22"]]),st=v({__name:"Content",setup(e){return(n,t)=>{const r=Je;return y(),k(r,{class:"content"},{default:h(()=>[i(S(ze))]),_:1})}}}),it=T(st,[["__scopeId","data-v-464cb56b"]]),dt={class:""},ct=v({__name:"Footer",setup(e){return(n,t)=>(y(),B("div",dt))}}),ut=v({__name:"index",setup(e){const{logout:n,userInfo:t}=ce();return console.log(n,t),R(()=>{}),(r,s)=>(y(),k(S(se),{class:"layout"},{default:h(()=>[i(S(lt)),i(S(se),null,{default:h(()=>[i(S(tt)),i(S(it)),i(S(ct))]),_:1})]),_:1}))}}),bt=T(ut,[["__scopeId","data-v-9949ae8a"]]);export{bt as default};
